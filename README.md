АВС ДЗ №2. Отладка программы с помощью gdb
========================

## Задача

Необходимо проанализировать и отладить программу для сортировки 
массива целых чисел shell-sort.c с помощью консольной утилиты gdb

## Последовательность действий

* Открываем программу через nano
    > nano shell-sort.c

    Беглый осмотр программы показывает, что массив вводится параметрами через пробел при запуске программы

    Далее, можно приступить к отладке

* Компилируем программу с ключом -g для получения файла запуска
    >(shell) gcc -g shell-sort.c -o shell-sort.out

    С ключом -o указываем имя выходного файла

* Запускаем отладчик
    >(shell) gdb ./shell-sort.out

* Пробуем программу с одним набором тестовых данных
    >(gdb) run 2 1 5 -12 3 -9

    Получаем некорректный результат работы программы

        > Output: -1414812757 -12 -9 1 2 3 N

* Выйдем из отладчика и зайдём снова
    >(gdb) quit

    >(shell) gdb ./shell-sort.out

* Установим точку останова на входе в функцию main
    > (gdb) break main

* Установим точку останова на выполнении функции shell_sort (36 строка)
    > (gdb) break 36

* Запустим программу
    >(gdb) run 2 1 5 -12 3 -9

    Исходя из полученных данных, понимаем, что проблема находится где-то в функции shell_sort

* Перезапустим gdb и установим точку останова на 16 строке на цикле for
    > (gdb) break 16

* Будем отслежить переменную i и переменную j во внутреннем for, установим точку останова на внутреннем for 
    > (gdb) break 18

    > (gdb) display i

    > (gdb) display j

    Путём анализа переменных и кода, понимаем, что j вылезает за пределы a и перескакивает на случайную ячейку памяти, следовательно нужно поправить внешний фор для i (из которого формируются рамки j)

* Исправляем внешний цикл for

    > Было: for (i = h; i < size; i++)
    
    > Стало: for (i = h; i < size - 1; i++)

* Перезапускаем gdb и проверяем на одних тестовых данных
    >(gdb) run 2 1 5 -12 3 -9

    Получаем правильный результат

        > Output: -12 -9 1 2 3 5 N

* Перезапускаем gdb и проверяем на других тестовых данных
    >(gdb) run 4 3 2 1

    Получаем снова правильный результат

        > Output: 1 2 3 4 N

* Проверяем на других тестовых данных и убеждаемся, что программа работает правильно

* Задача выполнена, испрваленный файл shell-sort-fixed.c